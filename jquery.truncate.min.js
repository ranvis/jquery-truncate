(function(j){function l(b,a,d){return!d[b]?d[b]=a.text(b).width():d[b]}function k(b,a,d,c,f,g,e,j){var h,i;e?(h=d===0?"":a.slice(-d),i=a.slice(-c)):(h=a.slice(0,d),i=a.slice(0,c));h=l(h+g,f,j);if(l(i+g,f,j)<h)return c;i=Math.floor((d+c)/2);i!==d&&(h=e?a.slice(-i):a.slice(0,i),h=l(h+g,f,j));if(h===b)return i;h>b?c=i-1:d=i+1;return k(b,a,d,c,f,g,e,j)}j.fn.truncate=function(b){b=j.extend({width:"auto",token:"\u2026",center:!1,addclass:!1,addtitle:!1},b);return this.each(function(){var a=j(this),d={fontFamily:a.css("fontFamily"),
fontSize:a.css("fontSize"),fontStyle:a.css("fontStyle"),fontWeight:a.css("fontWeight"),"font-variant":a.css("font-variant"),"text-indent":a.css("text-indent"),"text-transform":a.css("text-transform"),"letter-spacing":a.css("letter-spacing"),"word-spacing":a.css("word-spacing"),whiteSpace:a.css("whiteSpace"),display:"none"},c=a.text(),f=j("<span/>").css(d).text(c).appendTo("body"),g=f.width(),e=!isNaN(parseFloat(b.width))&&isFinite(b.width)?b.width:a.width();if(g>e){f.text("");if(b.center){g=Math.ceil(e/
2);e=Math.floor(e/2);g=c.slice(0,k(g,c,0,c.length,f,b.token,!1,{}));e=c.slice(-1*k(e,c,0,c.length,f,"",!0,{}));if(d.whiteSpace.slice(0,3)!=="pre")for(;e.slice(0,1)===" ";)e=e.slice(1);d=g+b.token+e}else d=c.slice(0,k(e,c,0,c.length,f,b.token,!1,{}))+b.token;b.addclass&&a.addClass(b.addclass);b.addtitle&&a.attr("title",c);a.text(d)}f.remove()})}})(jQuery);
